---
title: R-FCN学习笔记
tags: 2020-6-21
---

##  动机

 1. 如何提高检测网络的检测速度？
 2. 如何共享特征提取层的计算，减少计算？
 3. 如何解决上面存在的问题
   

## _问题回答_

 1. *对第一个问题的回答*：传统的Faster-RCNN网络将网络分成三个子网络部分，第一个是特征提取网络；第二个是RPN网络用于ROIs的提取，第三个网络是ROI Pooling层之后的分类和回归层；前两个网络是计算共享的，最后一个网络对每一个proposal都计算一遍，比较耗时；

 2. *对第二个问题的回答*：Faster-RCNN网络是将RPN网络插入到ResNet网络的第5个block之前，增加了检测部分的深度，提高了检测的精度；第5个block作为分类和回归网络 ，插入了RPN网络改变了conv5原本作为分类网络的平移不变性，开始对位置信息比较敏感；
 3. _对第三个问题的回答_：由于Faster-RCNN网络中存在着较深的检测网络，存在着未共享计算，冗余比较大；将所有计算都进行共享，也就是说将conv5的计算放到共享计算部分；故而提出了一个新的网络解决此三个问题。

## _全新网络介绍_

### *网络说明*

 1. _网络说明_:将resnet101所有卷积层用作特征提取器，在100层后面接一个1x1x1024维的卷积核(全卷积网络)，将原来的2048维的特征降维到1024维，然后再在后面接k^2^(C+1)维的卷积核，提取到position-sensitivity score map,k在文章中为3，C在文章中表示类别，RPN网络也是使用ResNet后面的1024维特征进行候选框的生成；
网络结构图如下所示：![网络基本框架图](https://raw.githubusercontent.com/EwardJohn/noteofyk/master/img/2020621/RFCN-structure.png)
通过全卷积网络生成的kxk=3x3的position-sensitive score map,kxk表示将特征图的每一个位置分成3x3的bin，每个bin的维度是C+1，表示
